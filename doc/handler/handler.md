### 定义

使多个对象都有机会处理请求，从而避免了请求的发送者之间的耦合关系，将这些对象连成一条线，并沿着这条链传递该请求，直到有对象处理他为止

责任链模式的重点在于链上，由一条链去处理相似的请求，在链中决定谁来处理这个请求，并返回相应的结果

![img](D:\study\OboutDesign\doc\handler\handler.png)

### 角色

#### Handler  抽象的处理者

抽象的处理者主要实现三个职责

1. 定义一个请求的处理方法  handle request ，唯一对外开放的方法
2. 定义一个链的编排方法，setNext 设置下一个处理者
3. 定义具体的请求者必须实现的两个方法： 
   - 定义自己能够处理的级别
   - 具体处理的任务

#### 具体的处理者

定义具体的处理者，用于形成一个链，这些处理者根据业务产生



在实际应用中，一般会有一个封装类对责任模式进行封装，直接返回链中的第一个处理者。 具体链的设置不需要高层次模块的关系 ，这就更简化了高层模块的调用，减少模块间的耦合，提高系统的灵活性

### 优缺点

#### 优点

​	将请求和处理分开，请求者可以不用知道谁处理的。处理者可以不知道请求的全貌

#### 缺点

1. 性能问题。 每次请求都是从链头遍历到链尾。 在链比较长的时候，性能是个非常大的问题。
2. 调试不方便，在环境较多的时候，由于采用类似递归的方式，调试的时候逻辑可能比较复杂

### 注意事项

1. 链中的节点数量需要控制，避免出现超长链的情况，一般的做法是在handler 中设置一个最大节点数。 在set Next 中判断是否已经超过器阈值，超过了，则不允许链的建立



责任链模式屏蔽了请求的处理过程，不需要关心发起的请求由谁处理，只需要将请求抛给责任链的第一个处理者，最终会返回一个处理结果。作为请求者不需要知道到底是谁来处理，则是责任链模式的核心

